## å¸¦ğŸ”´æ ‡è®°çš„é…ç½®é¡¹ä¸ºä¸€èˆ¬ä»£ç†è½¯ä»¶å¼ºåˆ¶è¦†å†™çš„é¡¹ç›®ï¼Œéœ€è¦åœ¨ä»£ç†è½¯ä»¶é…ç½®ç›¸åº”é¡¹ç›®

## ç«¯å£é…ç½® ---------------------------------------------------------------------------------------------------
mixed-port: 7890 #ğŸ”´HTTP+Socks4æ··åˆï¼ŒWinä¸‹çš„ç³»ç»Ÿä»£ç†ç«¯å£
socks-port: 1080 #ğŸ”´Socks5ï¼Œä»£ç†ç«¯å£
port: 8080 #ğŸ”´HTTPï¼Œä»£ç†ç«¯å£
#redir-port: 7891  #ğŸ”´élinuxç³»ç»Ÿæ— æ•ˆï¼Œredir é€æ˜ä»£ç†ç«¯å£
#tproxy-port: 7892  #ğŸ”´élinuxç³»ç»Ÿæ— æ•ˆï¼Œtproxy é€æ˜ä»£ç†ç«¯å£

## å…¨å±€é…ç½® ------------------------------------------------------------------------------------------------
mode: rule # ruleï¼ˆè§„åˆ™ï¼‰/ globalï¼ˆå…¨å±€ï¼‰/ directï¼ˆç›´è¿ï¼‰
allow-lan: true #ğŸ”´å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" #ğŸ”´ç›‘å¬çš„æœ¬åœ°ç½‘å¡åœ°å€ï¼Œ*ä¸ºå…¨éƒ¨
log-level: warning #ğŸ”´æ—¥å¿—çº§åˆ«
ipv6: true #ğŸ”´æ˜¯å¦æ¥å—ipv6æµé‡
tcp-concurrent: true # TCPå¹¶å‘
profile: # ç¼“å­˜è®¾ç½®
  store-selected: true # ç¼“å­˜ APIé¢æ¿ å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©
  #store-fake-ip: true # ç¼“å­˜ fakeip æ˜ å°„è¡¨
#interface-name: en0  #ğŸ”´clashæµé‡å‡ºç«™æ¥å£ï¼Œå³æ¥å£ç»‘å®š
#find-process-mode: off # è¿›ç¨‹åŒ¹é…ï¼ˆoff:å…³é—­ï¼Œalwas:å¼€å¯ï¼Œstrictè‡ªåŠ¨ï¼‰ï¼Œtunæ¨¡å¼ä¸‹æ— æ•ˆ
#lan-allowed-ips: # å…è®¸è¿æ¥çš„å®¢æˆ·ç«¯IPï¼Œé»˜è®¤å…è®¸å…¨éƒ¨
#- 0.0.0.0/0
#- ::/0
#lan-disallowed-ips: # ç¦æ­¢è¿æ¥çš„IPï¼Œä¼˜å…ˆçº§é«˜äºallowç™½åå•
#- ~
#authentication: # http(s)/socks/mixed çš„ç”¨æˆ·éªŒè¯ï¼Œæ ¼å¼ï¼š"user1:pass1"ï¼Œä¸å†™åˆ™ç¦æ­¢å…¨éƒ¨ç”¨æˆ·
#- ~
#skip-auth-prefixes: # ç™½åå•ï¼Œå…è®¸è·³è¿‡ç”¨æˆ·éªŒè¯çš„IP
#- ~
#unified-delay: false # ç»Ÿä¸€å»¶è¿Ÿè®¡ç®—ï¼Œæ²¡å•¥åµç”¨ï¼Œå°±æ˜¯ç•Œé¢å¥½çœ‹
#routing-mark: 6666  # élinuxæ— æ•ˆï¼Œè·¯ç”±æ ‡è®°ï¼Œä¸ºæµé‡æä¾›æ ‡è®°ä»¥ä¾›å…¶ä»–åº”ç”¨è¿›è¡Œæµé‡å¤„ç†

## TCP-KeepA-liveé…ç½® ------------------------------------------------------------------------------------------
keep-alive-idle: 30 # è§¦å‘å¿ƒè·³åŒ…çš„é“¾è·¯æ— æ´»åŠ¨é˜ˆå€¼ï¼Œæ— æ´»åŠ¨åå‘é€å¿ƒè·³åŒ…æ£€æµ‹å¯¹ç«¯æ˜¯å¦å­˜æ´»
keep-alive-interval: 30 # å‘é€å¿ƒè·³åŒ…çš„é—´éš”ï¼Œæ— å›åº”åˆ™æœ€å¤šé‡å‘9æ¬¡ååˆ¤æ–­é“¾è·¯å…³é—­
disable-keep-alive: true # ç¦ç”¨ keep aliveï¼Œå³å…è®¸é•¿é“¾æ¥ä¸€ç›´å­˜åœ¨

## APIé¢æ¿è®¾ç½®---------------------------------------------------------------------------------------------------
external-controller: 0.0.0.0:9095 #ğŸ”´APIé¢æ¿ç›‘å¬åœ°å€
secret: "" #ğŸ”´APIé¢æ¿è®¿é—®å¯†é’¥
external-ui: ./ui #ğŸ”´APIé¢æ¿é™æ€èµ„æºè·¯å¾„
external-ui-name: zashboard #ğŸ”´APIé¢æ¿åï¼Œé…åˆè·¯å¾„æ‹¼æ¥æˆè·¯å¾„ï¼Œä¾‹å¦‚/ui/metacubexd
external-ui-url: "https://ghfast.top/https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip" #ğŸ”´APIé¢æ¿ä¸‹è½½åœ°å€

## å¤–éƒ¨èµ„æºä¸‹è½½è®¾ç½®---------------------------------------------------------------------------------------------------
global-client-fingerprint: random # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ï¼Œä¼˜å…ˆçº§ä½äºå…¶ä»–å¤„çš„å£°æ˜
global-ua: mihomo # å…¨å±€UAï¼Œé»˜è®¤ä¸ºclash.meta
etag-support: true # èµ„æºä¸‹è½½çš„ ETag æ”¯æŒ
geodata-mode: true # GEOIPæ•°æ®æ¨¡å¼ï¼Œfalse:mmdbï¼Œtrue:datï¼Œmmdbæ›´æ–°ä½†æœ‰è®¾å¤‡ä¸æ”¯æŒ
geodata-loader: standard # GEOæ–‡ä»¶åŠ è½½æ¨¡å¼ï¼Œé»˜è®¤memconservativeï¼ˆå°å†…å­˜è®¾å¤‡æ¨¡å¼ï¼Œå³åˆ†æ®µåŠ è½½geoæ•°æ®è€Œä¸æ˜¯å…¨éƒ¨åŠ è½½ï¼‰
geo-auto-update: true # GEOæ–‡ä»¶è‡ªåŠ¨æ›´æ–°
geo-update-interval: 48 # æ›´æ–°é—´éš”ï¼Œå°æ—¶
geox-url: # GEOæ•°æ®åº“ä¸‹è½½åœ°å€ï¼Œå†…æ ¸ä¼šæŒ‰éœ€ä¸‹è½½ï¼Œæœªè¢«ä½¿ç”¨çš„æ•°æ®åº“ä¸ä¼šè¢«ä¸‹è½½
  geoip: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
  asn: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb"

## DNSè®¾ç½®---------------------------------------------------------------------------------------------------
# å®¢æˆ·ç«¯å‘èµ·ç½‘å€Açš„DNSï¼Œåˆ°è¾¾mihomoçš„DNSæ¨¡å—ï¼Œmihomoä¼šä½¿ç”¨ä¸‹æ–¹çš„é…ç½®è¿›è¡ŒDNSï¼Œå¾—åˆ°IPåè¿”å›ç»™å®¢æˆ·ç«¯
# å®¢æˆ·ç«¯æ‹¿åˆ°IPåï¼Œå†æ¬¡å¯¹IPå‘èµ·è¿æ¥è¯·æ±‚ï¼Œæ­¤æ—¶è¯·æ±‚ä¼šè¿›å…¥mihomoçš„è§„åˆ™åŒ¹é…ï¼Œæ ¹æ®åŒ¹é…ç»“æœç›´è¿æˆ–è€…è¿œç«¯è§£æ
# ä¹Ÿå°±æ˜¯è¯´DNSè§£æå®é™…ä¸Šä¼šå‘ç”Ÿä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡çš„ç»“æœå¹¶ä¸é‡è¦ï¼Œç¬¬äºŒæ¬¡åªè¦è§„åˆ™æ­£ç¡®è§¦å‘è¿œç¨‹è§£æï¼Œç»ä¸ä¼šæ±¡æŸ“å’ŒåŠ«æŒ
# ä½†å¦‚æœç¬¬ä¸€æ¬¡æ‹¿åˆ°äº†0.0.0.0,127.0.0.1è¿™æ ·çš„é”™è¯¯IPï¼Œè¯·æ±‚æ— æ³•å‘ç»™mihomoå°±ä¼šæ— æ³•è®¿é—®
# ç»¼ä¸Šæ‰€è¿°ï¼Œé…ç½®DNSæ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œåªè¦ä¿è¯é¦–æ¬¡è§£æä¸è¦å¾—åˆ°0.0.0.0è¿™æ ·çš„é”™è¯¯IPå³å¯

public-dns: &public-dns # å¿«é€Ÿçš„DNSï¼Œä¸å…³å¿ƒæ˜¯å¦å­˜åœ¨æ±¡æŸ“å’ŒåŠ«æŒï¼Œåªè¦å¿«å°±å¥½äº†
  - dhcp://wan # æŒ‡å®šç½‘å¡DHCPè·å–çš„DNSï¼Œç¡¬è·¯ç”±çš„wanå£ç½‘å¡åä¸€èˆ¬ä¸ºwan
#  - dhcp://eth3 # è½¯è·¯ç”±çš„wanå£ä¸€èˆ¬ä¸ºæœ€åä¸€å¼ ç½‘å¡ï¼Œeth0,eth1 åŒç½‘å£å°±æ˜¯eth1
  - 119.29.29.29 # è…¾è®¯DNS

secure-dns: &secure-dns # åŠ å¯†çš„DNSï¼Œå¿…é¡»é¿å…è¢«è§£æä¸º0.0.0.0ç­‰æ±¡æŸ“
  # - https://8.8.8.8/dns-query # è°·æ­ŒDNS
  - https://223.5.5.5/dns-query#h3=true # é˜¿é‡Œä¸»DNSï¼Œæ”¯æŒH3

crypto-dns: &crypto-dns # åŠ å¯†çš„DNSï¼Œå¿…é¡»é¿å…è¢«è§£æä¸º0.0.0.0ç­‰æ±¡æŸ“
  - https://8.8.8.8/dns-query # è°·æ­ŒDNS
#  - https://dns.google/dns-query # è°·æ­ŒDNS
#  - https://cloudflare-dns.com/dns-query # CloudflareDNS


dns:
  enable: true #ğŸ”´å¯ç”¨dnsæ¨¡å—ï¼Œå¦åˆ™é‡‡ç”¨ç³»ç»ŸDNS
  listen: 0.0.0.0:1053 #ğŸ”´DNSç›‘å¬ç«¯å£ï¼Œä»…æ”¯æŒudp
  enhanced-mode: redir-host #ğŸ”´DNSå¤„ç†æ¨¡å¼ï¼šredir-host/fake-ipï¼Œfake-ipæ›´å¿«ä½†å¯èƒ½å¼•å…¥é—®é¢˜ï¼ˆç¼“å­˜fakeipåæ— æ³•æ•…éšœåˆ‡æ¢ï¼‰
  prefer-h3: false # DoHè‹¥æ”¯æŒåˆ™ä¼˜å…ˆä½¿ç”¨HTTP/3
  ipv6: true # æ˜¯å¦è§£æipv6åœ°å€ï¼Œå¦åˆ™è¿”å›ç©ºç»“æœ
  use-hosts: true # æŸ¥è¯¢é…ç½®æ–‡ä»¶ä¸­çš„ hosts
  use-system-hosts: true # æŸ¥è¯¢ç³»ç»Ÿçš„ hosts
  proxy-server-nameserver: *secure-dns # è§£æä»£ç†èŠ‚ç‚¹åŸŸåçš„DNSï¼Œä¸å¡«åˆ™éµå¾ªnamepolicy
  direct-nameserver: *public-dns # è§£ædirectç»„çš„DNSï¼Œä¸å¡«åˆ™éµå¾ªnamepolicy
  nameserver-policy: # ä¼˜å…ˆçº§é«˜äºnameserver
    "geosite:category-ads-all": rcode://success # åŒ¹é…å¹¿å‘ŠåŸŸåï¼Œè¿”å›ç©ºç»“æœ
    "rule-set:company_custom_okx": *crypto-dns # åŒ¹é…okx
    "rule-set:company_custom_api": *secure-dns # åŒ¹é…crypto
    "rule-set:company_custom_crypto": *secure-dns # åŒ¹é…crypto
    "rule-set:company_custom_rules": *secure-dns # åŒ¹é…custom_rules
    "geosite:category-cryptocurrency": *secure-dns # åŒ¹é…crypto
    "rule-set:FISH-Direct": *public-dns # åŒ¹é…FISH-Direct
    "geosite:cn,apple,private": *public-dns # åŒ¹é…ä¸­å›½ï¼Œè‹¹æœåŸŸåï¼Œç§æœ‰åœ°å€
    "geosite:geolocation-!cn": *secure-dns # åŒ¹é…éä¸­å›½åŸŸå
  nameserver: *public-dns # å…œåº•é»˜è®¤DNSç»„ï¼Œæœªå‘½ä¸­ nameserver-policy æ—¶å¯ç”¨
  #respect-rules: false # DNSè¯·æ±‚éµå¾ªè·¯ç”±è§„åˆ™ï¼Œéœ€å…ˆé…ç½®å¥½ proxy-server-nameserverï¼Œå¦åˆ™å‡ºç°é¸¡è›‹é—®é¢˜
  #fake-ip-range: 198.18.0.1/16 # fakeip ä¸‹çš„ IP æ®µè®¾ç½®ï¼Œtunæ¥å£çš„é»˜è®¤ IPV4 åœ°å€ ä¹Ÿä½¿ç”¨æ­¤å€¼ä½œä¸ºå‚è€ƒ
  #fake-ip-filter-mode: blacklist # é»‘/ç™½åå•æ¨¡å¼ï¼Œç™½åå•ä¸‹ filter ä¼šè¿”å› fake-ip
  #fake-ip-filter: # fakeipè¿‡æ»¤
  #- "geosite:category-ads-all,category-games,cn,private"
  #- "rule-set:FISH-Direct"
  default-nameserver: [119.29.29.29] # è§£æDNSæœåŠ¡å™¨åŸŸåçš„DNSï¼Œå¯ä»¥åŠ å¯†ä½†å¿…é¡»ä¸ºIPï¼Œå¦‚æœä¸ç”¨DNSæœåŠ¡å™¨çš„åŸŸååˆ™æ— éœ€é…ç½®

## hostsè®¾ç½®---------------------------------------------------------------------------------------------------
hosts:
  "mihomo.mihomo": 127.0.0.1

## å—…æ¢è®¾ç½®---------------------------------------------------------------------------------------------------
sniffer: # å—…æ¢ï¼Œè·å–SNIä¸­çš„åŸŸåï¼Œä½¿mihomoèƒ½å¤Ÿåè§£æœªç»è‡ªå·±DNSçš„IPè¯·æ±‚çš„åŸŸåï¼Œæ¥åŒ¹é…åŸŸåè§„åˆ™
  enable: true # å¯ç”¨sniffer
  force-dns-mapping: true # å¯¹redir-hostç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ä¸º true
  sniff: # éœ€è¦å—…æ¢çš„åè®®ç±»å‹ï¼Œä»…æ”¯æŒ HTTP/TLS/QUIC
    TLS: # TLSåè®®
      ports: # ç«¯å£ç™½åå•ï¼Œåªé’ˆå¯¹ä¸‹åˆ—ç«¯å£å—…æ¢
        - 443
        - 8443
        - 9443
    HTTP: # HTTPåè®®
      ports: # ç«¯å£ç™½åå•ï¼Œåªé’ˆå¯¹ä¸‹åˆ—ç«¯å£å—…æ¢
        - 80
        - 8080-8880
    QUIC: # QUICåè®®
      ports: # ç«¯å£ç™½åå•ï¼Œåªé’ˆå¯¹ä¸‹åˆ—ç«¯å£å—…æ¢
        - 443
        - 8443
  force-domain: # å¼ºåˆ¶å—…æ¢çš„åŸŸå
    - "+.netflix.com"
    - "+.nflxvideo.net"
    - "+.amazonaws.com"
    - "+.media.dssott.com"
    - "+.aicoin.com"
    - "+.binance.com"
    - "+.okx.com"
  skip-domain: # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸåï¼Œä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹sniå­—æ®µéåŸŸåï¼Œå¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜ï¼Œå¦‚ç±³å®¶è®¾å¤‡
    - "+.apple.com"
    - Mijia Cloud
    - dlg.io.mi.com
    - "+.oray.com"
    - "+.sunlogin.net"
    - geosite:cn

## tunè®¾ç½®---------------------------------------------------------------------------------------------------
tun:
  enable: true #ğŸ”´å¯ç”¨Tunæ¥å£
  stack: mixed # TUN å †æ ˆæ¨¡å¼,å»ºè®® mixedï¼ˆTCPï¼šsystemï¼ŒUDPï¼šGvisorï¼‰
  device: utun0 # TUN ç½‘å¡åï¼ŒMacOS åªèƒ½ utun å¼€å¤´
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±ï¼Œè‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿› tun
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡çš„å‡ºæ¥å£ï¼ˆé»˜è®¤wanå£ï¼‰
  dns-hijack: # dns åŠ«æŒï¼Œå°†åŒ¹é…åˆ°çš„è¿æ¥å¯¼å…¥å†…éƒ¨ dns æ¨¡å—ï¼Œä¸ä¹¦å†™åè®®åˆ™é»˜è®¤ udp://
    - any:53
    - tcp://any:53
  mtu: 9000 # MTU
  gso: true # é€šç”¨åˆ†æ®µå¸è½½
  gso-max-size: 65536 # æ•°æ®å—æœ€å¤§é•¿åº¦
  exclude-package: # å®‰å“æ’é™¤çš„åŒ…å
    - com.tencent.mobileqq # QQ
    - com.tencent.mm # å¾®ä¿¡
    - com.tencent.androidqqmail # QQé‚®ç®±
    - com.xingin.xhs # å°çº¢ä¹¦
    - idm.internet.download.manager # 1DMä¸‹è½½å™¨
    - com.sausage.download # æµ©å…‹ä¸‹è½½
    - com.eg.android.AlipayGphone # æ”¯ä»˜å®
    - com.sgcc.wsgw.cn # ç½‘ä¸Šå›½ç½‘
    - com.taobao.taobao # æ·˜å®
    - com.jingdong.app.mall # äº¬ä¸œ
    - com.MobileTicket # é“è·¯12306
    - com.chinamworld.main # ä¸­å›½å»ºè®¾é“¶è¡Œ
    - com.jd.jrapp # äº¬ä¸œé‡‘è
  #auto-redirect: true # ä»…Linuxæœ‰æ•ˆï¼Œè‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥ï¼Œéœ€è¦auto-route: true
  #strict-route: false # ä¸¥æ ¼è·¯ç”±ï¼Œæ·»åŠ é˜²ç«å¢™è§„åˆ™ç¦æ­¢Windowsä½¿ç”¨å¤šDNSï¼Œæœ‰æ•ˆé˜²æ­¢DNSæ³„éœ²ï¼Œå®æµ‹ä¸¥é‡æ‹–æ…¢Windowsè®¿é—®é€Ÿåº¦
  #endpoint-independent-nat: false # ç‹¬ç«‹äºç«¯ç‚¹çš„ NATï¼Œæ€§èƒ½å¯èƒ½ä¸‹é™ï¼Œä¸å»ºè®®ä¸éœ€è¦æ—¶å¼€å¯

## ä»£ç†æä¾›è€…è®¾ç½®---------------------------------------------------------------------------------------------------
proxy-providers-general: &proxy-providers-general # ä»£ç†æä¾›è€…é€šç”¨é…ç½®
  type: http # ç±»å‹ï¼Œå¯é€‰http/file/inline
  interval: 86400 # æ›´æ–°é—´éš”ï¼Œå•ä½ç§’
  proxy: DIRECT # httpç±»å‹æ›´æ–°æ—¶ä½¿ç”¨çš„ä»£ç†ç»„ï¼Œä¸å»ºè®®è®¾ç½®ä»£ç†ï¼Œå¦‚æœä½ çš„æœºåœºéœ€è¦ä»£ç†æ‰èƒ½è®¢é˜…ï¼Œé‚£å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ
  size-limit: 0 # æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œ0ä¸ºä¸é™åˆ¶
#  exclude-filter: "(?i)å®˜ç½‘|æ¯æœˆåˆ·æ–°è®¢é˜…|æœºåœº|åˆ°æœŸ|https://|å‰©ä½™æµé‡"
  override:
    tfo: false # å¯ç”¨TCP Fast Openï¼Œä¸€èˆ¬éƒ½ä¸æ”¯æŒ
    mptcp: false # å¯ç”¨TCP Multi Pathï¼Œä¸€èˆ¬éƒ½ä¸æ”¯æŒ
    udp: true # å¯ç”¨UDP
    udp-over-tcp: false # å¯ç”¨UDP over TCP
    skip-cert-verify: false # è·³è¿‡è¯ä¹¦éªŒè¯

proxy-providers:
  #â—providerå ä½1
  #â—providerå ä½2
  #â—providerå ä½3
  #â—providerå ä½4

## ä»£ç†ç»„è®¾ç½®---------------------------------------------------------------------------------------------------
use-all-proxy-providers: &use-all-proxy-providers # ä»£ç†ç»„é€šç”¨é…ç½®
  use:
    #â—use-providerå ä½1
    #â—use-providerå ä½2
    #â—use-providerå ä½3
    #â—use-providerå ä½4

health-check-general: &health-check-general # ä»£ç†ç»„å¥åº·æ£€æŸ¥é€šç”¨é…ç½®
  <<: *use-all-proxy-providers
  url: http://www.gstatic.com/generate_204
  interval: 30 # å¥åº·æ£€æŸ¥é—´éš”
  tolerance: 80 # å»¶è¿Ÿå®¹å¿åº¦ï¼Œå•ä½ms
  lazy: true # æœªé€‰ä¸­å½“å‰ç»„æ—¶ä¸è¿›è¡Œæµ‹è¯•
  timeout: 5000 # å¥åº·æ£€æŸ¥è¶…æ—¶ï¼Œå•ä½ms
  max-failed-times: 5 # å¤±è´¥æ¬¡æ•°ï¼Œè¶…è¿‡åˆ™æ‰§è¡Œä¸€æ¬¡å¼ºåˆ¶å¥åº·æ£€æŸ¥
  # filter: "^(?!.*(ink|çœ‹è¿™é‡Œ|åˆ°æœŸ|æœºåœº|åœ°å€|æµé‡|è®¢é˜…|è®¡è´¹|æ—¥æœ¬)).*$"

default-proxy: &default-proxy # é»˜è®¤ä»£ç†ç»„
  proxies:
    - âœ…é»˜è®¤ä»£ç†
    - ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
    - âš ï¸æ•…éšœåˆ‡æ¢
    - ğŸ–ï¸æ‰‹åŠ¨åˆ‡æ¢
    - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹
    - ğŸ‡ºğŸ‡²ç¾å›½èŠ‚ç‚¹
    - DIRECT

default-direct: &default-direct # é»˜è®¤ç›´è¿ç»„
  proxies:
    - DIRECT
    - âœ…é»˜è®¤ä»£ç†

proxy-groups:
  ##################################
  - name: ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(æ–°åŠ å¡|å°æ¹¾))^((?!(Gatern|æ—¥|éŸ©|æ·±|ç¾|å€)).)*$"

  - name: âš ï¸æ•…éšœåˆ‡æ¢
    type: fallback
    <<: *health-check-general
    filter: "(?=.*(æ–°åŠ å¡|å°æ¹¾|Gatern-å°æ¹¾|Gatern-æ–°åŠ å¡))^((?!(æ—¥|éŸ©|æ·±|ç¾|å€)).)*$"

  - name: ğŸ–ï¸æ‰‹åŠ¨åˆ‡æ¢
    type: select
    <<: *use-all-proxy-providers
    filter: "(?=.*(é¦™æ¸¯|æ–°åŠ å¡|å°æ¹¾|ç¾å›½|))^((?!(æ—¥|éŸ©|æ·±|ç¾|å€)).)*$"
  ##################################
  - name: âœ…é»˜è®¤ä»£ç†
    type: select
    proxies:
      - ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
      - âš ï¸æ•…éšœåˆ‡æ¢
      - ğŸ–ï¸æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡ºğŸ‡²ç¾å›½èŠ‚ç‚¹
      - DIRECT
  ##################################
  - name: ğŸ…°ï¸Ai
    type: select
    <<: *default-proxy

  - name: å›½é™…ç¤¾äº¤è½¯ä»¶
    type: select
    <<: *default-proxy

  - name: ğŸ§±GFW
    type: select
    <<: *default-proxy

  - name: ğŸ®Steam
    type: select
    <<: *default-direct

  - name: â“‚ï¸å¾®è½¯æœåŠ¡
    type: select
    <<: *default-direct

  - name: âœˆï¸ Speedtest
    type: select
    <<: *default-proxy

  ##################################

  - name: ğŸ’°Crypto
    type: select
    proxies:
      - ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
      - âš ï¸æ•…éšœåˆ‡æ¢
      - ğŸ–ï¸æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹

#  - name: ğŸ¤–Crypto-API
#    type: load-balance
#    strategy: round-robin
#    url: 'https://www.gstatic.com/generate_204'
#    interval: 300
#    proxies:
#      - ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
#      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
#      - ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
#      - ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹

  - name: ğŸ¤–Crypto-API
    type: select
    proxies:
      - ğŸ¤–æ•°æ®ä¸“ç”¨-è‡ªåŠ¨æµ‹é€Ÿ
      - ğŸ¤–æ•°æ®ä¸“ç”¨-æ‰‹åŠ¨é€‰æ‹©
      - âš ï¸æ•…éšœåˆ‡æ¢

  - name: ğŸ¤–æ•°æ®ä¸“ç”¨-è‡ªåŠ¨æµ‹é€Ÿ
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(æ–°åŠ å¡|å°æ¹¾))^((?!(FNF|æ—¥|éŸ©|æ·±|ç¾|å€)).)*$"

  - name: ğŸ¤–æ•°æ®ä¸“ç”¨-æ‰‹åŠ¨é€‰æ‹©
    type: select
    <<: *health-check-general
    filter: "(?=.*(æ–°åŠ å¡|å°æ¹¾))^((?!(FNF|æ—¥|éŸ©|æ·±|ç¾|å€)).)*$"

  - name: ğŸ¤–æ•°æ®-OKX
    type: select
    proxies:
      - ğŸ‡ºğŸ‡²ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³æ–°å°ä¼˜é€‰
      - âš ï¸æ•…éšœåˆ‡æ¢
      - ğŸ–ï¸æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹
      - ğŸ¤–æ•°æ®ä¸“ç”¨-è‡ªåŠ¨æµ‹é€Ÿ
      - ğŸ¤–æ•°æ®ä¸“ç”¨-æ‰‹åŠ¨é€‰æ‹©


  - name: ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|(?i)Hong))^((?!(Gatern|å°|æ—¥|éŸ©|æ–°|æ·±|ç¾|å€)).)*$"

  - name: ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan))^((?!(Gatern|æ¸¯|ç¾|æ—¥|éŸ©|æ–°|å€)).)*$"

  - name: ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(æ–°åŠ å¡|SG|(?i)Singapore))^((?!(VQ|Gatern|æ¸¯|å°|éŸ©|æ—¥|ç¾|å€)).)*$"

  - name: ğŸ‡ºğŸ‡²ç¾å›½èŠ‚ç‚¹
    type: url-test
    <<: *health-check-general
    filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(Gatern|æ¸¯|å°|æ—¥|éŸ©|æ–°|å€)).)*$"

  - name: ğŸŒé»˜è®¤ç›´è¿
    type: select
    <<: *default-direct

  - name: ğŸŸæ¼ç½‘ä¹‹é±¼
    type: select
    <<: *default-direct


## è§„åˆ™æä¾›è€…è®¾ç½®---------------------------------------------------------------------------------------------------
rule-providers-general: &rule-providers-general
  type: http
  behavior: classical
  interval: 86400

rule-providers:
  FISH-å»¶è¿Ÿæœ€ä½:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/refined-fish/clash_rule_fish/refs/heads/main/Ruleset/â™»ï¸å»¶è¿Ÿæœ€ä½-FISH.yaml
    path: ./providers/rule/rule-provider_FISH-å»¶è¿Ÿæœ€ä½.yaml

  FISH-Direct:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/refined-fish/clash_rule_fish/refs/heads/main/Ruleset/ğŸŒDirect-FISH.yaml
    path: ./providers/rule/rule-provider_FISH-Direct.yaml

  FISH-Copilot:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/refined-fish/clash_rule_fish/refs/heads/main/Ruleset/â“‚ï¸å¾®è½¯Copilot-FISH.yaml
    path: ./providers/rule/rule-provider_FISH-Copilot.yaml

  company_custom_okx:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/Hotinosin/clash-rule/refs/heads/main/payload/company_custom_okx.yaml
    path: ./providers/rule/rule-provider_company_custom_okx.yaml
   
  company_custom_api:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/Hotinosin/clash-rule/refs/heads/main/payload/company_custom_api.yaml
    path: ./providers/rule/rule-provider_company_custom_api.yaml

  company_custom_crypto:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/Hotinosin/clash-rule/refs/heads/main/payload/company_custom_crypto.yaml
    path: ./providers/rule/rule-provider_payload/company_custom_crypto.yaml
    
  company_custom_direct:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/Hotinosin/clash-rule/refs/heads/main/payload/company_custom_direct.yaml
    path: ./providers/rule/rule-provider_company_custom_direct.yaml
    
  company_custom_rules:
    <<: *rule-providers-general
    url: https://raw.githubusercontent.com/Hotinosin/clash-rule/refs/heads/main/payload/company_custom_rules.yaml
    path: ./providers/rule/rule-provider_company_custom_rules.yaml


## è·¯ç”±è§„åˆ™è®¾ç½®---------------------------------------------------------------------------------------------------
rules:
  #### å¯¹äºå¿…é¡»ç›´è¿è€…ç›´æ¥ä½¿ç”¨directå†™æ­»ï¼Œå…¶ä»–å°½å¯èƒ½ä½¿ç”¨ä»£ç†ç»„ä»¥æ–¹ä¾¿é¢æ¿æ§åˆ¶ä»¥åŠåˆ‡æ¢æµ‹è¯•
  # FISHè‡ªå®šä¹‰è§„åˆ™å—
  - RULE-SET,FISH-Direct,DIRECT # FISHè‡ªå®šä¹‰ç›´è¿
  - RULE-SET,FISH-å»¶è¿Ÿæœ€ä½,âœ…é»˜è®¤ä»£ç†
  - RULE-SET,FISH-Copilot,ğŸ…°ï¸Ai # å¾®è½¯copilotæœåŠ¡

  # å…¬å¸è§„åˆ™
  - RULE-SET,company_custom_okx,ğŸ¤–æ•°æ®-OKX
  - RULE-SET,company_custom_api,ğŸ¤–Crypto-API
  - RULE-SET,company_custom_crypto,ğŸ’°Crypto
  - RULE-SET,company_custom_direct,DIRECT
  - RULE-SET,company_custom_rules,âœ…é»˜è®¤ä»£ç†

  # å¸¸è§å›½å†…
  - GEOSITE,speedtest,âœˆï¸ Speedtest
  - GEOSITE,tencent,DIRECT
  - GEOSITE,tencent-games,DIRECT
  - GEOSITE,apple,DIRECT
  - GEOSITE,onedrive,DIRECT
  - GEOSITE,bilibili,DIRECT

  # å¸¸è§å¤–ç½‘æœåŠ¡
  - GEOSITE,github,âœ…é»˜è®¤ä»£ç†
  - GEOSITE,youtube,âœ…é»˜è®¤ä»£ç†
  - GEOSITE,google,âœ…é»˜è®¤ä»£ç†
  - GEOSITE,tiktok,âœ…é»˜è®¤ä»£ç†
  - GEOSITE,netflix,âœ…é»˜è®¤ä»£ç†

  # AIç›¸å…³
  - GEOSITE,openai,ğŸ…°ï¸Ai # openaiæœåŠ¡
  - GEOSITE,category-ai-chat-!cn,ğŸ…°ï¸Ai # ä¸åœ¨å¤§é™†çš„AI
  - GEOSITE,google-gemini,ğŸ…°ï¸Ai # gemini

  # å›½é™…ç¤¾äº¤è½¯ä»¶
  - GEOSITE,telegram,å›½é™…ç¤¾äº¤è½¯ä»¶ # TelegramæœåŠ¡
  - GEOIP,telegram,å›½é™…ç¤¾äº¤è½¯ä»¶,no-resolve # TelegramæœåŠ¡IP
  - GEOSITE,x,å›½é™…ç¤¾äº¤è½¯ä»¶ # æ¨ç‰¹,x
  - GEOSITE,category-social-media-!cn,å›½é™…ç¤¾äº¤è½¯ä»¶ # å›½å¤–ç¤¾äº¤è½¯ä»¶

  # å¹¿å‘Šæ‹¦æˆªä¸ç§æœ‰åœ°å€ç»•è¿‡å—
  - GEOIP,private,DIRECT,no-resolve # ç§æœ‰åœ°å€ç›´è¿
  - GEOSITE,private,DIRECT # ç§æœ‰åœ°å€ç›´è¿

  #### ä»£ç†è§„åˆ™å—ï¼ŒæŒ‰ç…§ä½¿ç”¨é¢‘ç‡/è§„åˆ™é›†å¤§å°æ’åº
  # å…¶ä»–
  - GEOSITE,tailscale,DIRECT # å¿…é¡»ç›´è¿ï¼Œå¦åˆ™tailscaleä»£ç†æ‰“æ´
  - GEOSITE,tracker,DIRECT # å¿…é¡»ç›´è¿ï¼Œå¦åˆ™PT/BTç›´è¿ä»£ç†ä¸‹è½½
  - GEOSITE,category-pt,DIRECT # å¿…é¡»ç›´è¿ï¼Œå¦åˆ™PTæ ‡è®°ç›’å­
  - GEOSITE,tmdb,âœ…é»˜è®¤ä»£ç† # TMDBæœåŠ¡ï¼Œå½±è§†åˆ®å‰Š

  # å¾®è½¯ç›¸å…³
  - GEOSITE,win-extra,â“‚ï¸å¾®è½¯æœåŠ¡ # å¾®è½¯é™„åŠ éšç§è·Ÿè¸ªåŸŸå
  - GEOSITE,win-update,â“‚ï¸å¾®è½¯æœåŠ¡ # å¾®è½¯æ›´æ–°åŸŸå
  - GEOSITE,synology,DIRECT # ç¾¤æ™–æœåŠ¡ï¼ŒåŒ…æ‹¬QC

  # ç¼–ç¨‹-dockerç›¸å…³
  - GEOSITE,category-container,âœ…é»˜è®¤ä»£ç† # å„ç§å®¹å™¨æœåŠ¡
  - GEOSITE,python,âœ…é»˜è®¤ä»£ç† # PythonæœåŠ¡ï¼Œä¾‹å¦‚pipç›´è¿ä¸‹è½½è¾ƒæ…¢


  #### å…œåº•è§„åˆ™å—ï¼Œä¸€èˆ¬ç²¾ç»†çš„åˆ†æµè§„åˆ™åº”åœ¨å…¶ä¸Š
  - GEOSITE,category-cryptocurrency,ğŸ’°Crypto
  - GEOSITE,gfw,ğŸ§±GFW # GFWå…œåº•
  - GEOSITE,microsoft,â“‚ï¸å¾®è½¯æœåŠ¡ # å¾®è½¯æœåŠ¡ï¼Œæ”¾äºGFWåæ˜¯å› ä¸ºgithubç­‰åœ¨GFWä¸­éœ€è¦ä»£ç†
  - GEOSITE,steam,ğŸ®Steam # Steamï¼Œé»˜è®¤ç›´è¿ï¼Œæ¢åŒºæ—¶ä¿®æ”¹æ­¤å¤„ï¼Œæ”¾äºGFWä¹‹åæ˜¯å› åˆ›æ„å·¥åŠéœ€å§‹ç»ˆä»£ç†
  - GEOSITE,cn,ğŸŒé»˜è®¤ç›´è¿ # ä¸­å›½åŸŸå
  - GEOIP,cn,ğŸŒé»˜è®¤ç›´è¿,no-resolve # ä¸­å›½IP
  - MATCH,ğŸŸæ¼ç½‘ä¹‹é±¼ # æ¼ç½‘ä¹‹é±¼